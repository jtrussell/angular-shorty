angular.module("shorty",[]),angular.module("shorty").filter("shortyGroup",function(){"use strict";return function(a,b){if(!b||!a)return a;var c=[];return angular.forEach(a,function(a){b===a.group&&c.push(a)}),c}}),angular.module("shorty").filter("shortySort",function(){"use strict";var a=function(a,b){return a.group===b.group?a.combo<b.combo?-1:1:""===a.group?1:""===b.group?-1:a.group<b.group?-1:1};return function(b){return b?(b.sort(a),b):b}}),angular.module("shorty").provider("shortyFilter",function(){"use strict";var a=this,b={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓","return":"↩",enter:"↩",backspace:"⌫"},c={};this.setKeyMap=function(c){return angular.forEach(c,function(a,c){b[c]=a}),a},this.$get=function(){return function(a,d){if(d&&c.hasOwnProperty(a))return c[a];var e=a.replace(/\s+/g," ").split(" ").map(function(a){return a.split("+").map(function(a){var c=a.toLowerCase();return b.hasOwnProperty(c)&&(a=b[c]),a}).join("+")}).join(" ");return d&&(e=e.split(" "),c[a]=e),e}}}),angular.module("shorty").provider("shorty",function(){"use strict";var a;this.setMousetrap=function(b){a=b},this.$get=["$window","$log","shortySortFilter","shortyGroupFilter",function(b,c,d,e){var f={},g=a||b.Mousetrap,h=[],i=[];return f.on=function(a,b,c,d,e){return h.push({combo:a,event:b,group:d||"",desc:c||"",global:angular.isDefined(e)?e:!1}),f},f.onGlobal=function(a,b,c,d){return f.on(a,b,c,d,!0)},f.broadcastTo=function(a){return angular.forEach(h,function(b){var d="bind";b.global&&(angular.isDefined(g.bindGlobal)?d="bindGlobal":c.debug('Mousetrap plugin "bindGlobal" not available. Falling back to regular bind')),g[d](b.combo,function(){a.$broadcast(b.event),a.$apply()});var e;for(e=i.length;e--;)b.combo===i[e].combo&&(i.splice(e,1),e=0);i.push(b),a.$on("$destroy",function(){g.unbind(b.combo)})}),h.length=0,d(i),f},f.getActiveShortcuts=function(a){return e(i,a)},f}]});